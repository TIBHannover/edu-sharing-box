###############################
## Common Alfresco Properties #
###############################

dir.root={{alf_home}}/alf_data
dir.keystore=${dir.root}/keystore

# database connection properties
db.username={{alfresco_db.user}}
db.password={{alfresco_db.password}}
{% if alfresco_db_type == 'postgresql' %}
db.driver=org.postgresql.Driver
db.url=jdbc:postgresql://localhost:{{postgresql_port}}/{{alfresco_db.name}}
{% elif alfresco_db_type == 'mariadb' %}
db.driver=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost/{{alfresco_db.name}}?useUnicode=yes&characterEncoding=UTF-8
hibernate.dialect=org.hibernate.dialect.MySQLInnoDBDialect
{% endif %}

index.subsystem.name=solr4
# TODO solr host have to be configured first: allow access from alfresco host
#solr.host={{solr_host}}
solr.port={{tomcat_port}}
solr.port.ssl={{tomcat_ssl_port}}

#
# External locations
#-------------
#ooo.exe=soffice
#ooo.enabled=false
#jodconverter.officeHome=./OpenOffice.org
#jodconverter.portNumbers=8101
#jodconverter.enabled=true
#img.root=./ImageMagick
#swf.exe=./bin/pdf2swf

#
# Windows specific environment variables (should not be set on unix) for ImageMagick
#
#img.coders=${img.root}/modules/coders
#img.config=${img.root}/config
#img.gslib=${img.root}/lib
img.exe=/usr/bin/convert

#
# Property to control whether schema updates are performed automatically.
# Updates must be enabled during upgrades as, apart from the static upgrade scripts,
# there are also auto-generated update scripts that will need to be executed.  After
# upgrading to a new version, this can be disabled.
#
#db.schema.update=true

#
# Index Recovery Mode
#-------------
#index.recovery.mode=AUTO

#
# Outbound Email Configuration
#-------------
mail.host={{ edu_mail_smtp_server | default("") }}
mail.port={{ edu_mail_smtp_port | default("25") }}
mail.username={{ edu_mail_smtp_username | default("") }}
mail.password={{ edu_mail_smtp_passwd | default("") }}
mail.encoding=UTF-8
mail.from.default={{ edu_mail_smtp_from | default("pleasechange@nodomain.com") }}
mail.smtp.auth=false

#
# Alfresco Email Service and Email Server
#-------------

# Enable/Disable the inbound email service.  The service could be used by processes other than
# the Email Server (e.g. direct RMI access) so this flag is independent of the Email Service.
#-------------
#email.inbound.enabled=true

# Email Server properties
#-------------
#email.server.enabled=true
#email.server.port=25
#email.server.domain=alfresco.com
#email.inbound.unknownUser=anonymous

# A comma separated list of email REGEX patterns of allowed senders.
# If there are any values in the list then all sender email addresses
# must match. For example:
#   .*\@alfresco\.com, .*\@alfresco\.org
# Allow anyone:
#-------------
#email.server.allowed.senders=.*

#
# The default authentication chain
# To configure external authentication subsystems see:
# http://wiki.alfresco.com/wiki/Alfresco_Authentication_Subsystems
#-------------
#authentication.chain=alfrescoNtlm1:alfrescoNtlm

#
# URL Generation Parameters (The ${localname} token is replaced by the local server name)
#-------------
#alfresco.context=alfresco
#alfresco.host=localhost
#alfresco.port=8080
#alfresco.protocol=http

#share.context=share
#share.host=localhost
#share.port=8080
#share.protocol=http

#imap.server.enabled=true
#imap.server.port=143
#imap.server.host=localhost

# Default value of alfresco.rmi.services.host is 0.0.0.0 which means 'listen on all adapters'.
# This allows connections to JMX both remotely and locally.
#
alfresco.rmi.services.host=0.0.0.0


#
# Assign individual ports for each service for best performance
# or run several services on the same port. You can even run everything on 50500 if needed.
#
# Select 0 to use a random unused port.
#
#monitor.rmi.service.port=50508
authentication.ticket.useSingleTicketPerUser=false
{% if install_antivirus is defined and install_antivirus %}

########################
## Alfivral Properties #
########################
alfviral.mode=COMMAND
alfviral.command.exec={{ antivirus_alfviral_command }}
alfviral.file.exceptions=

# Delete node on content update if the content-file is infected
alfviral.on_update.delete=true

alfviral.notify.user=true
alfviral.notify.admin=true
alfviral.notify.asynchronously={{ antivirus_alfviral_notify_asynchronously }}
alfviral.notify.user.template=notify_user_en.html.ftl
alfviral.notify.admin.template=notify_admin_en.html.ftl
{% endif %}